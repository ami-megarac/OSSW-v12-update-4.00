--- linux_patch307/drivers/input/ff-memless.c	2020-03-30 10:44:14.613107153 +0800
+++ linux/drivers/input/ff-memless.c	2020-03-31 15:18:00.192855742 +0800
@@ -489,6 +489,15 @@
 {
 	struct ml_device *ml = ff->private;
 
+	/*
+	 * Even though we stop all playing effects when tearing down
+	 * an input device (via input_device_flush() that calls into
+	 * input_ff_flush() that stops and erases all effects), we
+	 * do not actually stop the timer, and therefore we should
+	 * do it here.
+	 */
+	del_timer_sync(&ml->timer);
+
 	kfree(ml->private);
 }
 
